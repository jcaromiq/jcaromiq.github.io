<!doctype html><html lang=es-es dir=ltr><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta name=description content="Que nos aporta vavr sobre la programación funcional en java 8"><title>Vitaminando la programación funcional en java 8 con Vavr</title><link rel=canonical href=https://blog.joaquin-caro.es/p/vitaminando-la-programaci%C3%B3n-funcional-en-java-8-con-vavr/><link rel=stylesheet href=/scss/style.min.8191399262444ab68b72a18c97392f5349be20a1615d77445be51e974c144cff.css><meta property="og:title" content="Vitaminando la programación funcional en java 8 con Vavr"><meta property="og:description" content="Que nos aporta vavr sobre la programación funcional en java 8"><meta property="og:url" content="https://blog.joaquin-caro.es/p/vitaminando-la-programaci%C3%B3n-funcional-en-java-8-con-vavr/"><meta property="og:site_name" content="Joaquín Caro"><meta property="og:type" content="article"><meta property="article:section" content="Post"><meta property="article:tag" content="java"><meta property="article:tag" content="vavr"><meta property="article:tag" content="functional programming"><meta property="article:published_time" content="2018-08-21T01:05:31+02:00"><meta property="article:modified_time" content="2018-08-21T01:05:31+02:00"><meta property="og:image" content="https://blog.joaquin-caro.es/p/vitaminando-la-programaci%C3%B3n-funcional-en-java-8-con-vavr/pexels.jpg"><meta name=twitter:title content="Vitaminando la programación funcional en java 8 con Vavr"><meta name=twitter:description content="Que nos aporta vavr sobre la programación funcional en java 8"><meta name=twitter:card content="summary_large_image"><meta name=twitter:image content="https://blog.joaquin-caro.es/p/vitaminando-la-programaci%C3%B3n-funcional-en-java-8-con-vavr/pexels.jpg"><script async src="https://www.googletagmanager.com/gtag/js?id=G-H13WFLX5M2"></script>
<script>var doNotTrack=!1;if(!doNotTrack){window.dataLayer=window.dataLayer||[];function gtag(){dataLayer.push(arguments)}gtag("js",new Date),gtag("config","G-H13WFLX5M2",{anonymize_ip:!1})}</script></head><body class=article-page><script>(function(){const e="StackColorScheme";localStorage.getItem(e)||localStorage.setItem(e,"auto")})()</script><script>(function(){const t="StackColorScheme",e=localStorage.getItem(t),n=window.matchMedia("(prefers-color-scheme: dark)").matches===!0;e=="dark"||e==="auto"&&n?document.documentElement.dataset.scheme="dark":document.documentElement.dataset.scheme="light"})()</script><div class="container main-container flex on-phone--column extended"><aside class="sidebar left-sidebar sticky"><button class="hamburger hamburger--spin" type=button id=toggle-menu aria-label="Toggle Menu">
<span class=hamburger-box><span class=hamburger-inner></span></span></button><header><figure class=site-avatar><a href=/><img src=/img/main_hub83b0c8f2d32f9116542953a5ad4b4f7_1077076_300x0_resize_q75_box.jpg width=300 height=300 class=site-logo loading=lazy alt=Avatar></a>
<span class=emoji>👨🏻‍💻</span></figure><div class=site-meta><h1 class=site-name><a href=/>Joaquín Caro</a></h1><h2 class=site-description>Mi Cuaderno de bitácora.</h2></div></header><ol class=social-menu><li><a href=https://dev.to/jcaromiq target=_blank title=Dev.to rel=me><svg fill="#000" width="800" height="800" viewBox="0 0 32 32" xmlns="http://www.w3.org/2000/svg"><path d="M9.896 13.401c-.245-.213-.615-.308-1.125-.308H8l.027 3.256.052 3.265.749-.027c.547.0.839-.093 1.104-.348.323-.319.349-.48.349-2.933.0-2.547-.027-2.613-.385-2.905zM0 6.588v18.824h32V6.588zM11.412 20.401c-.584.771-1.412 1.025-3.371 1.025h-1.76V11.374h1.864c2.229.0 2.881.24 3.469 1.199.359.572.385.801.427 3.427.063 2.973-.025 3.64-.629 4.401zm6.785-7.297h-3.291v2.365h2.025v1.703l-.959.057-1 .036v2.36l1.625.041 1.599.052v1.708h-2.129c-2.041.0-2.136-.015-2.495-.4l-.401-.376v-4.213c0-4.025.016-4.24.333-4.635.307-.417.333-.417 2.511-.417h2.181v1.735zm6.24 7.271c-.224.573-.849 1.052-1.333 1.052-.24.0-.599-.197-.891-.52-.427-.428-.599-.839-1.093-2.771l-1.199-4.521-.604-2.229h1.016c.531.0 1 .027 1 .068.0.077 1.547 6.052 1.683 6.443.052.197.421-.937.968-3.068l.88-3.359.991-.057c.531-.027.973.0.973.057.0.181-2.229 8.504-2.401 8.905z"/></svg></a></li><li><a href=https://github.com/jcaromiq target=_blank title=GitHub rel=me><svg fill="#000" height="800" width="800" id="Layer_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="-267 288.9 264.5 225.1"><g><path d="M-21.8 354.4c-.8-.9-1.3-2.3-1.2-3.5.9-20.1-1.8-39.6-8.6-58.6-.9-2.4-2-3.3-4.5-2.6-5.6 1.7-11.4 3-16.9 5-15.2 5.5-29.1 13.5-42.6 22.2-1.4.9-3.5 1.5-5.2 1.2-22.1-3.9-44.3-3.7-66.5-.3-2.2.3-5-.2-6.8-1.3-15.7-10.2-31.7-20.2-50-25-15.1-4-12-4.8-16.3 8.9-5.1 16.4-7.1 33.4-6 50.6.1 1.2-.8 2.7-1.6 3.8-6.6 7.9-11.7 16.6-14.8 26.4-6 19-4.8 38.2-1 57.3 7.5 37.5 32.8 63.8 70.2 70.3 19.3 3.4 39.2 3.7 57.3 5.2 20.2-1.5 38.9-1.6 57.1-4.5 31.8-5.1 55.8-22 67.8-52.7 4.2-10.7 6.5-22.4 7.9-33.8C-.3 397.9-4.6 374.3-21.8 354.4zM-39.5 458.8c-3.3 15.6-12.4 26.3-27.6 31.8-14.7 5.4-29.9 7.6-45.4 8.6-7.5.5-15 .1-22.5.1-20.2.4-40.4-.4-59.9-6.2-24.5-7.3-35.5-21.9-36.2-47.5-.3-9.1.7-17.9 5-26.1 8.5-16.5 23.2-22.3 40.6-22.6 9.5-.1 19.1.7 28.7 1.6 20.1 1.8 40-.1 60-1.2 8.8-.5 17.8-.7 26.4.8 18.5 3.2 32.5 21.6 32.8 42.3C-37.6 446.5-38.3 452.8-39.5 458.8z"/><path d="M-191.5 424.5c-5.5 5.7-7.4 12.9-7.7 19.3.0 9.6 2.8 17.3 7.7 22.3 6.8 6.9 16.1 6.7 22.6-.3 9.8-10.6 9.7-30.5.0-41C-175.4 417.7-184.9 417.6-191.5 424.5z"/><path d="M-99.4 423.7c-11.2 10.3-11.2 33 0 43.2 6.5 5.9 15.3 5.6 21.4-.7 5.6-5.8 7.6-13.1 7.8-21-.2-7.9-2.2-15.1-7.9-20.9C-84.2 418-93 417.8-99.4 423.7z"/></g></svg></a></li><li><a href=https://gitlab.com/jcaromiq target=_blank title=Gitlab rel=me><svg width="800" height="800" viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg" fill="none"><path fill="#000" d="M14.975 8.904 14.19 6.55l-1.552-4.67a.268.268.0 00-.255-.18.268.268.0 00-.254.18l-1.552 4.667H5.422L3.87 1.879A.267.267.0 003.616 1.7a.267.267.0 00-.254.18l-1.55 4.667-.784 2.357a.515.515.0 00.193.583l6.78 4.812 6.778-4.812a.516.516.0 00.196-.583z"/></svg></a></li><li><a href=https://linkedin.com/in/joaquincaro target=_blank title=Linkedin rel=me><svg fill="#000" height="800" width="800" id="Layer_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 310 310"><g id="XMLID_801_"><path id="XMLID_802_" d="M72.16 99.73H9.927c-2.762.0-5 2.239-5 5v199.928c0 2.762 2.238 5 5 5H72.16c2.762.0 5-2.238 5-5V104.73c0-2.76100000000001-2.238-5-5-5z"/><path id="XMLID_803_" d="M41.066.341C18.422.341.0 18.743.0 41.362.0 63.991 18.422 82.4 41.066 82.4c22.626.0 41.033-18.41 41.033-41.038C82.1 18.743 63.692.341 41.066.341z"/><path id="XMLID_804_" d="M230.454 94.761c-24.995.0-43.472 10.745-54.679 22.954V104.73c0-2.761-2.238-5-5-5h-59.599c-2.762.0-5 2.239-5 5v199.928c0 2.762 2.238 5 5 5h62.097c2.762.0 5-2.238 5-5V205.74c0-33.333 9.054-46.319 32.29-46.319 25.306.0 27.317 20.818 27.317 48.034v97.204c0 2.762 2.238 5 5 5H305c2.762.0 5-2.238 5-5V194.995C310 145.43 300.549 94.761 230.454 94.761z"/></g></svg></a></li><li><a href=https://twitter.com/joaquin_caro target=_blank title=Twitter rel=me><svg fill="#000" height="800" width="800" id="Layer_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 310 310"><g id="XMLID_826_"><path id="XMLID_827_" d="M302.973 57.388c-4.87 2.16-9.877 3.983-14.993 5.463 6.057-6.85 10.675-14.91 13.494-23.73.632-1.977-.023-4.141-1.648-5.434-1.623-1.294-3.878-1.449-5.665-.39-10.865 6.444-22.587 11.075-34.878 13.783-12.381-12.098-29.197-18.983-46.581-18.983-36.695.0-66.549 29.853-66.549 66.547.0 2.89.183 5.764.545 8.598C101.163 99.244 58.83 76.863 29.76 41.204c-1.036-1.271-2.632-1.956-4.266-1.825-1.635.128-3.104 1.05-3.93 2.467-5.896 10.117-9.013 21.688-9.013 33.461.0 16.035 5.725 31.249 15.838 43.137-3.075-1.065-6.059-2.396-8.907-3.977-1.529-.851-3.395-.838-4.914.033-1.52.871-2.473 2.473-2.513 4.224-.007.295-.007.59-.007.889.0 23.935 12.882 45.484 32.577 57.229-1.692-.169-3.383-.414-5.063-.735-1.732-.331-3.513.276-4.681 1.597-1.17 1.32-1.557 3.16-1.018 4.84 7.29 22.76 26.059 39.501 48.749 44.605-18.819 11.787-40.34 17.961-62.932 17.961-4.714.0-9.455-.277-14.095-.826-2.305-.274-4.509 1.087-5.294 3.279-.785 2.193.047 4.638 2.008 5.895 29.023 18.609 62.582 28.445 97.047 28.445 67.754.0 110.139-31.95 133.764-58.753 29.46-33.421 46.356-77.658 46.356-121.367.0-1.826-.028-3.67-.084-5.508 11.623-8.757 21.63-19.355 29.773-31.536 1.237-1.85 1.103-4.295-.33-5.998C307.394 57.037 305.009 56.486 302.973 57.388z"/></g></svg></a></li></ol><ol class=menu id=main-menu><li><a href=/pages/archives/><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-archive" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><rect x="3" y="4" width="18" height="4" rx="2"/><path d="M5 8v10a2 2 0 002 2h10a2 2 0 002-2V8"/><line x1="10" y1="12" x2="14" y2="12"/></svg><span>Archives</span></a></li><li><a href=/pages/search/><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-search" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><circle cx="10" cy="10" r="7"/><line x1="21" y1="21" x2="15" y2="15"/></svg><span>Search</span></a></li><div class=menu-bottom-section><li id=dark-mode-toggle><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-toggle-left" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><circle cx="8" cy="12" r="2"/><rect x="2" y="6" width="20" height="12" rx="6"/></svg><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-toggle-right" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><circle cx="16" cy="12" r="2"/><rect x="2" y="6" width="20" height="12" rx="6"/></svg><span>Modo oscuro</span></li></div></ol></aside><aside class="sidebar right-sidebar sticky"><section class="widget archives"><div class=widget-icon><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-hash" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><line x1="5" y1="9" x2="19" y2="9"/><line x1="5" y1="15" x2="19" y2="15"/><line x1="11" y1="4" x2="7" y2="20"/><line x1="17" y1="4" x2="13" y2="20"/></svg></div><h2 class="widget-title section-title">Tabla de contenido</h2><div class=widget--toc><nav id=TableOfContents><ol><li><a href=#funciones>Funciones</a><ol><li><a href=#composición>Composición</a></li><li><a href=#lifting>Lifting</a></li><li><a href=#aplicación-parcial>Aplicación parcial</a></li><li><a href=#currying>Currying</a></li><li><a href=#memoization>Memoization</a></li></ol></li><li><a href=#monads>Monads</a><ol><li><a href=#try>Try</a></li><li><a href=#lazy>Lazy</a></li><li><a href=#either>Either</a></li></ol></li><li><a href=#estructuras-de-datos>Estructuras de datos</a><ol><li><a href=#listas-inmutables>Listas inmutables</a></li></ol></li></ol></nav></div></section></aside><main class="main full-width"><article class="has-image main-article"><header class=article-header><div class=article-image><a href=/p/vitaminando-la-programaci%C3%B3n-funcional-en-java-8-con-vavr/><img src=/p/vitaminando-la-programaci%C3%B3n-funcional-en-java-8-con-vavr/pexels_hud00257e1e0fb1f4907684e7fe3fb15b6_71679_800x0_resize_q75_box.jpg srcset="/p/vitaminando-la-programaci%C3%B3n-funcional-en-java-8-con-vavr/pexels_hud00257e1e0fb1f4907684e7fe3fb15b6_71679_800x0_resize_q75_box.jpg 800w, /p/vitaminando-la-programaci%C3%B3n-funcional-en-java-8-con-vavr/pexels_hud00257e1e0fb1f4907684e7fe3fb15b6_71679_1600x0_resize_q75_box.jpg 1600w" width=800 height=600 loading=lazy alt="Featured image of post Vitaminando la programación funcional en java 8 con Vavr"></a></div><div class=article-details><header class=article-category><a href=/categories/java/>Java</a></header><div class=article-title-wrapper><h2 class=article-title><a href=/p/vitaminando-la-programaci%C3%B3n-funcional-en-java-8-con-vavr/>Vitaminando la programación funcional en java 8 con Vavr</a></h2><h3 class=article-subtitle>Que nos aporta vavr sobre la programación funcional en java 8</h3></div><footer class=article-time><div><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-calendar-time" width="56" height="56" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><path d="M11.795 21H5a2 2 0 01-2-2V7a2 2 0 012-2h12a2 2 0 012 2v4"/><circle cx="18" cy="18" r="4"/><path d="M15 3v4"/><path d="M7 3v4"/><path d="M3 11h16"/><path d="M18 16.496V18l1 1"/></svg><time class=article-time--published>Aug 21, 2018</time></div><div><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-clock" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><circle cx="12" cy="12" r="9"/><polyline points="12 7 12 12 15 15"/></svg><time class=article-time--reading>6 minutos a leer</time></div></footer></div></header><section class=article-content><p>Con la release de java 8 se abrió un nuevo paradigma en el desarrollo con java, pero es suficiente con lo que trae de serie? Y si pudiéramos tener otras funcionalidades de lenguajes más puramente funcionales en java?</p><p>Para suplir estas necesidades nació <a class=link href=http://www.vavr.io/ target=_blank rel=noopener>vavr</a> con la misión de reducir el código haciéndolo mas legible y añadir robustez con la inmutabilidad de los datos.</p><p>Vavr entre otras cosas incluye inmutabilidad en listas y funciones para trabajar con ellas, incluye algunos de los monads más utilizados en otros lenguajes más funcionales, currying y partial aplication en funciones.</p><h2 id=funciones>Funciones</h2><h3 id=composición>Composición</h3><p>Con la llegada de java 8 se incluyó el concepto de Function y BiFunction, con el cual podemos definir funciones de uno o dos parámetros de entrada. por ejemplo:</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span><span class=lnt>5
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-java data-lang=java><span class=line><span class=cl><span class=n>Function</span><span class=o>&lt;</span><span class=n>Integer</span><span class=o>,</span> <span class=n>Integer</span><span class=o>&gt;</span> <span class=n>pow</span> <span class=o>=</span> <span class=o>(</span><span class=n>n</span><span class=o>)</span> <span class=o>-&gt;</span> <span class=n>n</span> <span class=o>*</span> <span class=n>n</span><span class=o>;</span>
</span></span><span class=line><span class=cl><span class=n>assertThat</span><span class=o>(</span><span class=n>pow</span><span class=o>.</span><span class=na>apply</span><span class=o>(</span><span class=mi>2</span><span class=o>)).</span><span class=na>isEqualTo</span><span class=o>(</span><span class=mi>4</span><span class=o>);</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=n>BiFunction</span><span class=o>&lt;</span><span class=n>Integer</span><span class=o>,</span> <span class=n>Integer</span><span class=o>,</span> <span class=n>Integer</span><span class=o>&gt;</span> <span class=n>multiply</span> <span class=o>=</span> <span class=o>(</span><span class=n>a</span><span class=o>,</span> <span class=n>b</span><span class=o>)</span> <span class=o>-&gt;</span> <span class=n>a</span> <span class=o>*</span> <span class=n>b</span><span class=o>;</span>
</span></span><span class=line><span class=cl><span class=n>assertThat</span><span class=o>(</span><span class=n>multiply</span><span class=o>.</span><span class=na>apply</span><span class=o>(</span><span class=mi>10</span><span class=o>,</span> <span class=mi>5</span><span class=o>)).</span><span class=na>isEqualTo</span><span class=o>(</span><span class=mi>50</span><span class=o>);</span>
</span></span></code></pre></td></tr></table></div></div><p>Con vavr podemos tener funciones hasta 8 parámetros con los tipos Function<em>N</em></p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span><span class=lnt>5
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-java data-lang=java><span class=line><span class=cl><span class=n>Function1</span><span class=o>&lt;</span><span class=n>Integer</span><span class=o>,</span> <span class=n>Integer</span><span class=o>&gt;</span> <span class=n>pow</span> <span class=o>=</span> <span class=o>(</span><span class=n>n</span><span class=o>)</span> <span class=o>-&gt;</span> <span class=n>n</span> <span class=o>*</span> <span class=n>n</span><span class=o>;</span>
</span></span><span class=line><span class=cl><span class=n>assertThat</span><span class=o>(</span><span class=n>pow</span><span class=o>.</span><span class=na>apply</span><span class=o>(</span><span class=mi>2</span><span class=o>)).</span><span class=na>isEqualTo</span><span class=o>(</span><span class=mi>4</span><span class=o>);</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=n>Function3</span><span class=o>&lt;</span><span class=n>Integer</span><span class=o>,</span> <span class=n>Integer</span><span class=o>,</span> <span class=n>Integer</span><span class=o>,</span> <span class=n>Integer</span><span class=o>&gt;</span> <span class=n>multiply</span> <span class=o>=</span> <span class=o>(</span><span class=n>n1</span><span class=o>,</span> <span class=n>n2</span><span class=o>,</span> <span class=n>n3</span><span class=o>)</span> <span class=o>-&gt;</span> <span class=n>n1</span> <span class=o>*</span> <span class=n>n2</span> <span class=o>*</span> <span class=n>n3</span><span class=o>;</span>
</span></span><span class=line><span class=cl><span class=n>assertThat</span><span class=o>(</span><span class=n>multiply</span><span class=o>.</span><span class=na>apply</span><span class=o>(</span><span class=mi>5</span><span class=o>,</span> <span class=mi>4</span><span class=o>,</span> <span class=mi>3</span><span class=o>)).</span><span class=na>isEqualTo</span><span class=o>(</span><span class=mi>60</span><span class=o>);</span>
</span></span></code></pre></td></tr></table></div></div><p>Ademas de poder crear funciones de hasta 8 parámetros de entrada, también nos ofrece la composición de funciones con las operaciones <em>.andThen</em> <em>.apply</em> y <em>.compose</em></p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-java data-lang=java><span class=line><span class=cl><span class=n>Function1</span><span class=o>&lt;</span><span class=n>String</span><span class=o>,</span> <span class=n>String</span><span class=o>&gt;</span> <span class=n>toUpper</span> <span class=o>=</span> <span class=n>String</span><span class=o>::</span><span class=n>toUpperCase</span><span class=o>;</span>
</span></span><span class=line><span class=cl><span class=n>Function1</span><span class=o>&lt;</span><span class=n>String</span><span class=o>,</span> <span class=n>String</span><span class=o>&gt;</span> <span class=n>trim</span> <span class=o>=</span> <span class=n>String</span><span class=o>::</span><span class=n>trim</span><span class=o>;</span>
</span></span><span class=line><span class=cl><span class=n>Function1</span><span class=o>&lt;</span><span class=n>String</span><span class=o>,</span> <span class=n>String</span><span class=o>&gt;</span> <span class=n>cheers</span> <span class=o>=</span> <span class=o>(</span><span class=n>s</span><span class=o>)</span> <span class=o>-&gt;</span> <span class=n>String</span><span class=o>.</span><span class=na>format</span><span class=o>(</span><span class=s>&#34;Hello %s&#34;</span><span class=o>,</span> <span class=n>s</span><span class=o>);</span>
</span></span><span class=line><span class=cl><span class=n>assertThat</span><span class=o>(</span><span class=n>trim</span>
</span></span><span class=line><span class=cl>			<span class=o>.</span><span class=na>andThen</span><span class=o>(</span><span class=n>toUpper</span><span class=o>)</span>
</span></span><span class=line><span class=cl>			<span class=o>.</span><span class=na>andThen</span><span class=o>(</span><span class=n>cheers</span><span class=o>)</span>
</span></span><span class=line><span class=cl>			<span class=o>.</span><span class=na>apply</span><span class=o>(</span><span class=s>&#34;   john&#34;</span><span class=o>)).</span><span class=na>isEqualTo</span><span class=o>(</span><span class=s>&#34;Hello JOHN&#34;</span><span class=o>);</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=n>Function1</span><span class=o>&lt;</span><span class=n>String</span><span class=o>,</span> <span class=n>String</span><span class=o>&gt;</span> <span class=n>composedCheer</span> <span class=o>=</span> <span class=n>cheers</span><span class=o>.</span><span class=na>compose</span><span class=o>(</span><span class=n>trim</span><span class=o>).</span><span class=na>compose</span><span class=o>(</span><span class=n>toUpper</span><span class=o>);</span>
</span></span><span class=line><span class=cl><span class=n>assertThat</span><span class=o>(</span><span class=n>composedCheer</span><span class=o>.</span><span class=na>apply</span><span class=o>(</span><span class=s>&#34; steve &#34;</span><span class=o>)).</span><span class=na>isEqualTo</span><span class=o>(</span><span class=s>&#34;Hello STEVE&#34;</span><span class=o>);</span>
</span></span></code></pre></td></tr></table></div></div><h3 id=lifting>Lifting</h3><p>Con lifting lo que conseguimos es tratar con las excepciones a la hora de componer las funciones, con lo que la función devolverá un Option.none en el caso de que se haya producido una excepción y un Option.some en el caso de que haya ido todo correctamente.</p><p>Esto es muy útil a la hora de componer funciones que usan librerías de terceros que pueden devolver excepciones.</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-Java data-lang=Java><span class=line><span class=cl><span class=n>Function1</span><span class=o>&lt;</span><span class=n>String</span><span class=o>,</span> <span class=n>String</span><span class=o>&gt;</span> <span class=n>toUpper</span> <span class=o>=</span> <span class=o>(</span><span class=n>s</span><span class=o>)</span> <span class=o>-&gt;</span> <span class=o>{</span>
</span></span><span class=line><span class=cl>    <span class=k>if</span> <span class=o>(</span><span class=n>s</span><span class=o>.</span><span class=na>isEmpty</span><span class=o>())</span> <span class=k>throw</span> <span class=k>new</span> <span class=n>IllegalArgumentException</span><span class=o>(</span><span class=s>&#34;input can not be null&#34;</span><span class=o>);</span>
</span></span><span class=line><span class=cl>    <span class=k>return</span> <span class=n>s</span><span class=o>.</span><span class=na>toUpperCase</span><span class=o>();</span>
</span></span><span class=line><span class=cl><span class=o>};</span>
</span></span><span class=line><span class=cl><span class=n>Function1</span><span class=o>&lt;</span><span class=n>String</span><span class=o>,</span> <span class=n>String</span><span class=o>&gt;</span> <span class=n>trim</span> <span class=o>=</span> <span class=n>String</span><span class=o>::</span><span class=n>trim</span><span class=o>;</span>
</span></span><span class=line><span class=cl><span class=n>Function1</span><span class=o>&lt;</span><span class=n>String</span><span class=o>,</span> <span class=n>String</span><span class=o>&gt;</span> <span class=n>cheers</span> <span class=o>=</span> <span class=o>(</span><span class=n>s</span><span class=o>)</span> <span class=o>-&gt;</span> <span class=n>String</span><span class=o>.</span><span class=na>format</span><span class=o>(</span><span class=s>&#34;Hello %s&#34;</span><span class=o>,</span> <span class=n>s</span><span class=o>);</span>
</span></span><span class=line><span class=cl><span class=n>Function1</span><span class=o>&lt;</span><span class=n>String</span><span class=o>,</span> <span class=n>String</span><span class=o>&gt;</span> <span class=n>composedCheer</span> <span class=o>=</span> <span class=n>cheers</span><span class=o>.</span><span class=na>compose</span><span class=o>(</span><span class=n>trim</span><span class=o>).</span><span class=na>compose</span><span class=o>(</span><span class=n>toUpper</span><span class=o>);</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=n>Function1</span><span class=o>&lt;</span><span class=n>String</span><span class=o>,</span> <span class=n>Option</span><span class=o>&lt;</span><span class=n>String</span><span class=o>&gt;&gt;</span> <span class=n>lifted</span> <span class=o>=</span> <span class=n>Function1</span><span class=o>.</span><span class=na>lift</span><span class=o>(</span><span class=n>composedCheer</span><span class=o>);</span> <span class=n>assertThat</span><span class=o>(</span><span class=n>lifted</span><span class=o>.</span><span class=na>apply</span><span class=o>(</span><span class=s>&#34;&#34;</span><span class=o>)).</span><span class=na>isEqualTo</span><span class=o>(</span><span class=n>Option</span><span class=o>.</span><span class=na>none</span><span class=o>());</span>
</span></span><span class=line><span class=cl><span class=n>assertThat</span><span class=o>(</span><span class=n>lifted</span><span class=o>.</span><span class=na>apply</span><span class=o>(</span><span class=s>&#34; steve &#34;</span><span class=o>)).</span><span class=na>isEqualTo</span><span class=o>(</span><span class=n>Option</span><span class=o>.</span><span class=na>some</span><span class=o>(</span><span class=s>&#34;Hello STEVE&#34;</span><span class=o>));</span>
</span></span></code></pre></td></tr></table></div></div><h3 id=aplicación-parcial>Aplicación parcial</h3><p>Con la aplicación parcial podemos crear una nueva función fijándole n parámetros a una ya existente, donde n siempre será inferior a la aridad de la función original y el retorno será una función de aridad original - parámetros fijados</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span><span class=lnt>5
</span><span class=lnt>6
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-java data-lang=java><span class=line><span class=cl><span class=n>Function2</span><span class=o>&lt;</span><span class=n>String</span><span class=o>,</span> <span class=n>String</span><span class=o>,</span> <span class=n>String</span><span class=o>&gt;</span> <span class=n>cheers</span> <span class=o>=</span> <span class=o>(</span><span class=n>s1</span><span class=o>,</span> <span class=n>s2</span><span class=o>)</span> <span class=o>-&gt;</span> <span class=n>String</span><span class=o>.</span><span class=na>format</span><span class=o>(</span><span class=s>&#34;%s %s&#34;</span><span class=o>,</span> <span class=n>s1</span><span class=o>,</span> <span class=n>s2</span><span class=o>);</span>
</span></span><span class=line><span class=cl><span class=n>Function1</span><span class=o>&lt;</span><span class=n>String</span><span class=o>,</span> <span class=n>String</span><span class=o>&gt;</span> <span class=n>sayHello</span> <span class=o>=</span> <span class=n>cheers</span><span class=o>.</span><span class=na>apply</span><span class=o>(</span><span class=s>&#34;Hello&#34;</span><span class=o>);</span>
</span></span><span class=line><span class=cl><span class=n>Function1</span><span class=o>&lt;</span><span class=n>String</span><span class=o>,</span> <span class=n>String</span><span class=o>&gt;</span> <span class=n>sayHola</span> <span class=o>=</span> <span class=n>cheers</span><span class=o>.</span><span class=na>apply</span><span class=o>(</span><span class=s>&#34;Hola&#34;</span><span class=o>);</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=n>assertThat</span><span class=o>(</span><span class=n>sayHola</span><span class=o>.</span><span class=na>apply</span><span class=o>(</span><span class=s>&#34;Juan&#34;</span><span class=o>)).</span><span class=na>isEqualTo</span><span class=o>(</span><span class=s>&#34;Hola Juan&#34;</span><span class=o>);</span>
</span></span><span class=line><span class=cl><span class=n>assertThat</span><span class=o>(</span><span class=n>sayHello</span><span class=o>.</span><span class=na>apply</span><span class=o>(</span><span class=s>&#34;John&#34;</span><span class=o>)).</span><span class=na>isEqualTo</span><span class=o>(</span><span class=s>&#34;Hello John&#34;</span><span class=o>);</span>
</span></span></code></pre></td></tr></table></div></div><p>Hemos definido una función <em>cheers</em> genérica que acepta dos parámetros de entrada, hemos derivado esta a otras dos nueva <em>sayHello</em> y <em>sayHola</em> aplicándola parcialmente, y ya tenemos dos más especifica para saludar y podríamos derivar en más casos si los necesitáramos.</p><h3 id=currying>Currying</h3><p>Currying es la técnica de descomponer una función de múltiples argumentos en una sucesión de funciones de un argumento.</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span><span class=lnt>5
</span><span class=lnt>6
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-java data-lang=java><span class=line><span class=cl> <span class=n>Function3</span><span class=o>&lt;</span><span class=n>Integer</span><span class=o>,</span> <span class=n>Integer</span><span class=o>,</span> <span class=n>Integer</span><span class=o>,</span> <span class=n>Integer</span><span class=o>&gt;</span> <span class=n>sum</span> <span class=o>=</span> <span class=o>(</span><span class=n>a</span><span class=o>,</span> <span class=n>b</span><span class=o>,</span> <span class=n>c</span><span class=o>)</span> <span class=o>-&gt;</span> <span class=n>a</span> <span class=o>+</span> <span class=n>b</span> <span class=o>+</span> <span class=n>c</span><span class=o>;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>        <span class=n>Function1</span><span class=o>&lt;</span><span class=n>Integer</span><span class=o>,</span> <span class=n>Function1</span><span class=o>&lt;</span><span class=n>Integer</span><span class=o>,</span> <span class=n>Integer</span><span class=o>&gt;&gt;</span> <span class=n>add2</span> <span class=o>=</span> <span class=n>sum</span><span class=o>.</span><span class=na>curried</span><span class=o>().</span><span class=na>apply</span><span class=o>(</span><span class=mi>2</span><span class=o>);</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>        <span class=n>Function1</span><span class=o>&lt;</span><span class=n>Integer</span><span class=o>,</span> <span class=n>Integer</span><span class=o>&gt;</span> <span class=n>add2And3</span> <span class=o>=</span> <span class=n>add2</span><span class=o>.</span><span class=na>curried</span><span class=o>().</span><span class=na>apply</span><span class=o>(</span><span class=mi>3</span><span class=o>);</span>
</span></span><span class=line><span class=cl>        <span class=n>assertThat</span><span class=o>(</span><span class=n>add2And3</span><span class=o>.</span><span class=na>apply</span><span class=o>(</span><span class=mi>4</span><span class=o>)).</span><span class=na>isEqualTo</span><span class=o>(</span><span class=mi>9</span><span class=o>);</span>
</span></span></code></pre></td></tr></table></div></div><h3 id=memoization>Memoization</h3><p>Una de las premisas de la programación funcional es tener funciones puras, sin side effects, esto básicamente es que a una función pasándole los mismo argumentos siempre ha de devolver el mismo resultado.</p><p>Por lo tanto, si siempre devolverá lo mismo, porque no cachearlo? pues esta es la misión de memoization, cachear las entradas y salidas de las funciones para sólo lanzarlas una vez.</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span><span class=lnt>17
</span><span class=lnt>18
</span><span class=lnt>19
</span><span class=lnt>20
</span><span class=lnt>21
</span><span class=lnt>22
</span><span class=lnt>23
</span><span class=lnt>24
</span><span class=lnt>25
</span><span class=lnt>26
</span><span class=lnt>27
</span><span class=lnt>28
</span><span class=lnt>29
</span><span class=lnt>30
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-java data-lang=java><span class=line><span class=cl><span class=kt>void</span> <span class=nf>memoization</span><span class=o>()</span> <span class=o>{</span>
</span></span><span class=line><span class=cl>        <span class=n>Function1</span><span class=o>&lt;</span><span class=n>Integer</span><span class=o>,</span> <span class=n>Integer</span><span class=o>&gt;</span> <span class=n>calculate</span> <span class=o>=</span> 
</span></span><span class=line><span class=cl>        	<span class=n>Function1</span><span class=o>.</span><span class=na>of</span><span class=o>(</span><span class=k>this</span><span class=o>::</span><span class=n>aVeryExpensiveMethod</span><span class=o>).</span><span class=na>memoized</span><span class=o>();</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>        <span class=kt>long</span> <span class=n>startTime</span> <span class=o>=</span> <span class=n>System</span><span class=o>.</span><span class=na>currentTimeMillis</span><span class=o>();</span>
</span></span><span class=line><span class=cl>        <span class=n>calculate</span><span class=o>.</span><span class=na>apply</span><span class=o>(</span><span class=mi>40</span><span class=o>);</span>
</span></span><span class=line><span class=cl>        <span class=kt>long</span> <span class=n>endTime</span> <span class=o>=</span> <span class=n>System</span><span class=o>.</span><span class=na>currentTimeMillis</span><span class=o>();</span>
</span></span><span class=line><span class=cl>        <span class=n>assertThat</span><span class=o>(</span><span class=n>endTime</span> <span class=o>-</span> <span class=n>startTime</span><span class=o>).</span><span class=na>isGreaterThanOrEqualTo</span><span class=o>(</span><span class=mi>5000l</span><span class=o>);</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>        <span class=n>startTime</span> <span class=o>=</span> <span class=n>System</span><span class=o>.</span><span class=na>currentTimeMillis</span><span class=o>();</span>
</span></span><span class=line><span class=cl>        <span class=n>calculate</span><span class=o>.</span><span class=na>apply</span><span class=o>(</span><span class=mi>40</span><span class=o>);</span>
</span></span><span class=line><span class=cl>        <span class=n>endTime</span> <span class=o>=</span> <span class=n>System</span><span class=o>.</span><span class=na>currentTimeMillis</span><span class=o>();</span>
</span></span><span class=line><span class=cl>        <span class=n>assertThat</span><span class=o>(</span><span class=n>endTime</span> <span class=o>-</span> <span class=n>startTime</span><span class=o>).</span><span class=na>isLessThan</span><span class=o>(</span><span class=mi>5000l</span><span class=o>);</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>        <span class=n>startTime</span> <span class=o>=</span> <span class=n>System</span><span class=o>.</span><span class=na>currentTimeMillis</span><span class=o>();</span>
</span></span><span class=line><span class=cl>        <span class=n>calculate</span><span class=o>.</span><span class=na>apply</span><span class=o>(</span><span class=mi>50</span><span class=o>);</span>
</span></span><span class=line><span class=cl>        <span class=n>endTime</span> <span class=o>=</span> <span class=n>System</span><span class=o>.</span><span class=na>currentTimeMillis</span><span class=o>();</span>
</span></span><span class=line><span class=cl>        <span class=n>assertThat</span><span class=o>(</span><span class=n>endTime</span> <span class=o>-</span> <span class=n>startTime</span><span class=o>).</span><span class=na>isGreaterThanOrEqualTo</span><span class=o>(</span><span class=mi>5000l</span><span class=o>);</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=o>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=kd>private</span> <span class=n>Integer</span> <span class=nf>aVeryExpensiveMethod</span><span class=o>(</span><span class=n>Integer</span> <span class=n>number</span><span class=o>)</span> <span class=o>{</span>
</span></span><span class=line><span class=cl>        <span class=k>try</span> <span class=o>{</span>
</span></span><span class=line><span class=cl>            <span class=n>Thread</span><span class=o>.</span><span class=na>sleep</span><span class=o>(</span><span class=mi>5000</span><span class=o>);</span>
</span></span><span class=line><span class=cl>        <span class=o>}</span> <span class=k>catch</span> <span class=o>(</span><span class=n>InterruptedException</span> <span class=n>e</span><span class=o>)</span> <span class=o>{</span>
</span></span><span class=line><span class=cl>            <span class=n>e</span><span class=o>.</span><span class=na>printStackTrace</span><span class=o>();</span>
</span></span><span class=line><span class=cl>        <span class=o>}</span>
</span></span><span class=line><span class=cl>        <span class=k>return</span> <span class=n>number</span> <span class=o>*</span> <span class=n>number</span><span class=o>;</span>
</span></span><span class=line><span class=cl>    <span class=o>}</span>
</span></span></code></pre></td></tr></table></div></div><h2 id=monads>Monads</h2><h3 id=try>Try</h3><p>El monad Try engloba una ejecución capturando una posible excepción, sus dos posibles valores de retorno son el caso de fallo por excepción o el valor resultado si ha ido bien.</p><p>Algunos métodos útiles del Try son:</p><p>.isSuccess() -> como el propio nombre indica, devuelve un boolean marcando si es un success.</p><p>.isFailure() -> devuelve un boolean marcando si es un failure.</p><p>get() -> obtiene el valor en el caso de que haya ido correctamente, si se hace un get y no se comprueba de si esto se hace sin comprobar si es success, soltará la excepción.</p><p>map() -> map sobre el valor en el caso de que haya ido bien, si es failure no se ejecutará.</p><p>getOrElse(T) -> el cual permite devolver un valor por defecto en el caso de error.</p><p>getOrElse(Supplier) -> el cual permite pasarle otra función en el caso de error.</p><p>recover( throwable -> {} ) -> Igual que el getOrElse pero en este caso tendremos la excepción que se ha lanzado para poder lograrla o poder devolver diferentes valores dependiendo del tipo de excepción.</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span><span class=lnt>5
</span><span class=lnt>6
</span><span class=lnt>7
</span><span class=lnt>8
</span><span class=lnt>9
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-java data-lang=java><span class=line><span class=cl><span class=n>Function2</span><span class=o>&lt;</span><span class=n>Integer</span><span class=o>,</span> <span class=n>Integer</span><span class=o>,</span> <span class=n>Integer</span><span class=o>&gt;</span> <span class=n>divide</span> <span class=o>=</span> <span class=o>(</span><span class=n>n1</span><span class=o>,</span> <span class=n>n2</span><span class=o>)</span> <span class=o>-&gt;</span> <span class=n>n1</span> <span class=o>/</span> <span class=n>n2</span><span class=o>;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=n>assertThat</span><span class=o>(</span><span class=n>Try</span><span class=o>.</span><span class=na>of</span><span class=o>(()</span> <span class=o>-&gt;</span> <span class=n>divide</span><span class=o>.</span><span class=na>apply</span><span class=o>(</span><span class=mi>10</span><span class=o>,</span> <span class=mi>0</span><span class=o>)).</span><span class=na>isFailure</span><span class=o>()).</span><span class=na>isTrue</span><span class=o>();</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=n>assertThat</span><span class=o>(</span><span class=n>Try</span><span class=o>.</span><span class=na>of</span><span class=o>(()</span> <span class=o>-&gt;</span> <span class=n>divide</span><span class=o>.</span><span class=na>apply</span><span class=o>(</span><span class=mi>10</span><span class=o>,</span> <span class=mi>5</span><span class=o>)).</span><span class=na>isSuccess</span><span class=o>()).</span><span class=na>isTrue</span><span class=o>();</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=n>assertThat</span><span class=o>(</span><span class=n>Try</span><span class=o>.</span><span class=na>of</span><span class=o>(()</span> <span class=o>-&gt;</span> <span class=n>divide</span><span class=o>.</span><span class=na>apply</span><span class=o>(</span><span class=mi>10</span><span class=o>,</span> <span class=mi>5</span><span class=o>)).</span><span class=na>get</span><span class=o>()).</span><span class=na>isEqualTo</span><span class=o>(</span><span class=mi>2</span><span class=o>);</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=n>assertThat</span><span class=o>(</span><span class=n>Try</span><span class=o>.</span><span class=na>of</span><span class=o>(()</span> <span class=o>-&gt;</span> <span class=n>divide</span><span class=o>.</span><span class=na>apply</span><span class=o>(</span><span class=mi>10</span><span class=o>,</span> <span class=mi>0</span><span class=o>)).</span><span class=na>getOrElse</span><span class=o>(</span><span class=mi>0</span><span class=o>)).</span><span class=na>isEqualTo</span><span class=o>(</span><span class=mi>0</span><span class=o>);</span>
</span></span></code></pre></td></tr></table></div></div><h3 id=lazy>Lazy</h3><p>Lazy es un monad sobre un Supplier al cual se le aplica memoization la primera vez que es evaluado.</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-java data-lang=java><span class=line><span class=cl><span class=n>Lazy</span><span class=o>&lt;</span><span class=n>List</span><span class=o>&lt;</span><span class=n>User</span><span class=o>&gt;&gt;</span> <span class=n>lazyOperation</span> <span class=o>=</span> <span class=n>Lazy</span><span class=o>.</span><span class=na>of</span><span class=o>(</span><span class=k>this</span><span class=o>::</span><span class=n>getAllActiveUsers</span><span class=o>);</span>
</span></span><span class=line><span class=cl><span class=n>assertThat</span><span class=o>(</span><span class=n>lazyOperation</span><span class=o>.</span><span class=na>isEvaluated</span><span class=o>()).</span><span class=na>isFalse</span><span class=o>();</span>
</span></span><span class=line><span class=cl><span class=n>assertThat</span><span class=o>(</span><span class=n>lazyOperation</span><span class=o>.</span><span class=na>get</span><span class=o>()).</span><span class=na>isNotEmpty</span><span class=o>();</span>
</span></span><span class=line><span class=cl><span class=n>assertThat</span><span class=o>(</span><span class=n>lazyOperation</span><span class=o>.</span><span class=na>isEvaluated</span><span class=o>()).</span><span class=na>isTrue</span><span class=o>();</span>
</span></span></code></pre></td></tr></table></div></div><h3 id=either>Either</h3><p>Either representa un valor de dos tipos, Left y Right siendo por convención, poner el valor en el Right cuando es correcto y en el Left cuando no lo es.</p><p>Siempre el resultado será un left o un right, nunca podrá darse el caso de que sean las dos.</p><h2 id=estructuras-de-datos>Estructuras de datos</h2><h3 id=listas-inmutables>Listas inmutables</h3><p>Si uno de los principios de la programación funcional es la inmutabilidad, que pasa cuando definimos una lista y le añadimos ítems? pues que la estamos mutando.</p><p>Vavr proporciona una especialización de List a la cual una vez creada ya no puede ser modificada, cualquier operación de añadir, eliminar, reemplazar, nos dará una nueva instancia con los cambios aplicados</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span><span class=lnt>17
</span><span class=lnt>18
</span><span class=lnt>19
</span><span class=lnt>20
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-java data-lang=java><span class=line><span class=cl><span class=kn>import</span> <span class=nn>io.vavr.collection.List</span><span class=o>;</span>
</span></span><span class=line><span class=cl><span class=o>...</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1>//Append
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=n>List</span><span class=o>&lt;</span><span class=n>Integer</span><span class=o>&gt;</span> <span class=n>original</span> <span class=o>=</span> <span class=n>List</span><span class=o>.</span><span class=na>of</span><span class=o>(</span><span class=mi>1</span><span class=o>,</span><span class=mi>2</span><span class=o>,</span><span class=mi>3</span><span class=o>);</span>
</span></span><span class=line><span class=cl><span class=n>List</span><span class=o>&lt;</span><span class=n>Integer</span><span class=o>&gt;</span> <span class=n>newList</span> <span class=o>=</span> <span class=n>original</span><span class=o>.</span><span class=na>append</span><span class=o>(</span><span class=mi>4</span><span class=o>);</span>
</span></span><span class=line><span class=cl><span class=n>assertThat</span><span class=o>(</span><span class=n>original</span><span class=o>.</span><span class=na>size</span><span class=o>()).</span><span class=na>isEqualTo</span><span class=o>(</span><span class=mi>3</span><span class=o>);</span>
</span></span><span class=line><span class=cl><span class=n>assertThat</span><span class=o>(</span><span class=n>newList</span><span class=o>.</span><span class=na>size</span><span class=o>()).</span><span class=na>isEqualTo</span><span class=o>(</span><span class=mi>4</span><span class=o>);</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1>//Remove
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=n>List</span><span class=o>&lt;</span><span class=n>Integer</span><span class=o>&gt;</span> <span class=n>original</span> <span class=o>=</span> <span class=n>List</span><span class=o>.</span><span class=na>of</span><span class=o>(</span><span class=mi>1</span><span class=o>,</span> <span class=mi>2</span><span class=o>,</span> <span class=mi>3</span><span class=o>);</span>
</span></span><span class=line><span class=cl><span class=n>List</span><span class=o>&lt;</span><span class=n>Integer</span><span class=o>&gt;</span> <span class=n>newList</span> <span class=o>=</span> <span class=n>original</span><span class=o>.</span><span class=na>remove</span><span class=o>(</span><span class=mi>3</span><span class=o>);</span>
</span></span><span class=line><span class=cl><span class=n>assertThat</span><span class=o>(</span><span class=n>original</span><span class=o>.</span><span class=na>size</span><span class=o>()).</span><span class=na>isEqualTo</span><span class=o>(</span><span class=mi>3</span><span class=o>);</span>
</span></span><span class=line><span class=cl><span class=n>assertThat</span><span class=o>(</span><span class=n>newList</span><span class=o>.</span><span class=na>size</span><span class=o>()).</span><span class=na>isEqualTo</span><span class=o>(</span><span class=mi>2</span><span class=o>);</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1>//Replace
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=n>List</span><span class=o>&lt;</span><span class=n>Integer</span><span class=o>&gt;</span> <span class=n>original</span> <span class=o>=</span> <span class=n>List</span><span class=o>.</span><span class=na>of</span><span class=o>(</span><span class=mi>1</span><span class=o>,</span> <span class=mi>2</span><span class=o>,</span> <span class=mi>4</span><span class=o>);</span>
</span></span><span class=line><span class=cl><span class=n>List</span><span class=o>&lt;</span><span class=n>Integer</span><span class=o>&gt;</span> <span class=n>newList</span> <span class=o>=</span> <span class=n>original</span><span class=o>.</span><span class=na>replace</span><span class=o>(</span><span class=mi>4</span><span class=o>,</span><span class=mi>3</span><span class=o>);</span>
</span></span><span class=line><span class=cl><span class=n>assertThat</span><span class=o>(</span><span class=n>original</span><span class=o>).</span><span class=na>contains</span><span class=o>(</span><span class=mi>1</span><span class=o>,</span><span class=mi>2</span><span class=o>,</span><span class=mi>4</span><span class=o>);</span>
</span></span><span class=line><span class=cl><span class=n>assertThat</span><span class=o>(</span><span class=n>newList</span><span class=o>).</span><span class=na>contains</span><span class=o>(</span><span class=mi>1</span><span class=o>,</span><span class=mi>2</span><span class=o>,</span><span class=mi>3</span><span class=o>);</span>
</span></span></code></pre></td></tr></table></div></div><p>Ademas de la inmutabilidad también proporciona métodos directos para operar con la lista sin pasar por el stream, obtener el valor mínimo, máximo, medio.. para más información sobre lo que ofrece esta lista podéis consultarlo en su <a class=link href=https://www.javadoc.io/doc/io.vavr/vavr/0.9.2 target=_blank rel=noopener>javadoc</a></p><p>Y estas son las principales características que nos ofrece Vavr, pero ofrece muchas más que nos ayudan a poder ser más funcionales en un lenguaje como java.</p><p><a class=link href=https://apiumhub.com/es/tech-blog-barcelona/java-con-vavr/ target=_blank rel=noopener>Artículo publicado en Apiumhub</a></p></section><footer class=article-footer><section class=article-tags><a href=/tags/java/>java</a>
<a href=/tags/vavr/>vavr</a>
<a href=/tags/functional-programming/>functional programming</a></section></footer></article><aside class=related-content--wrapper><h2 class=section-title>Contenidos relacionados</h2><div class=related-content><div class="flex article-list--tile"><article class=has-image><a href=/p/feature-flag/><div class=article-image><img src=/p/feature-flag/apple.bc8b148a2428a80a9403f52016fa9a38_hua6ee33cc34b1e82706bd6c8225647c66_207247_250x150_fill_q75_box_smart1.jpg width=250 height=150 loading=lazy alt="Featured image of post Feature Flag" data-hash="md5-vIsUiiQoqAqUA/UgFvqaOA=="></div><div class=article-details><h2 class=article-title>Feature Flag</h2></div></a></article></div></div></aside><footer class=site-footer><section class=copyright>&copy;
2018 -
2023 Joaquín Caro</section><section class=powerby>Creado con <a href=https://gohugo.io/ target=_blank rel=noopener>Hugo</a><br>Tema <b><a href=https://github.com/CaiJimmy/hugo-theme-stack target=_blank rel=noopener data-version=3.16.0>Stack</a></b> diseñado por <a href=https://jimmycai.com target=_blank rel=noopener>Jimmy</a></section></footer><div class=pswp tabindex=-1 role=dialog aria-hidden=true><div class=pswp__bg></div><div class=pswp__scroll-wrap><div class=pswp__container><div class=pswp__item></div><div class=pswp__item></div><div class=pswp__item></div></div><div class="pswp__ui pswp__ui--hidden"><div class=pswp__top-bar><div class=pswp__counter></div><button class="pswp__button pswp__button--close" title="Close (Esc)"></button>
<button class="pswp__button pswp__button--share" title=Share></button>
<button class="pswp__button pswp__button--fs" title="Toggle fullscreen"></button>
<button class="pswp__button pswp__button--zoom" title="Zoom in/out"></button><div class=pswp__preloader><div class=pswp__preloader__icn><div class=pswp__preloader__cut><div class=pswp__preloader__donut></div></div></div></div></div><div class="pswp__share-modal pswp__share-modal--hidden pswp__single-tap"><div class=pswp__share-tooltip></div></div><button class="pswp__button pswp__button--arrow--left" title="Previous (arrow left)"></button>
<button class="pswp__button pswp__button--arrow--right" title="Next (arrow right)"></button><div class=pswp__caption><div class=pswp__caption__center></div></div></div></div></div><script src=https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/photoswipe.min.js integrity="sha256-ePwmChbbvXbsO02lbM3HoHbSHTHFAeChekF1xKJdleo=" crossorigin=anonymous defer></script><script src=https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/photoswipe-ui-default.min.js integrity="sha256-UKkzOn/w1mBxRmLLGrSeyB4e1xbrp4xylgAWb3M42pU=" crossorigin=anonymous defer></script><link rel=stylesheet href=https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/default-skin/default-skin.min.css crossorigin=anonymous><link rel=stylesheet href=https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/photoswipe.min.css crossorigin=anonymous></main></div><script src=https://cdn.jsdelivr.net/npm/node-vibrant@3.1.6/dist/vibrant.min.js integrity="sha256-awcR2jno4kI5X0zL8ex0vi2z+KMkF24hUW8WePSA9HM=" crossorigin=anonymous></script><script type=text/javascript src=/ts/main.js defer></script>
<script>(function(){const e=document.createElement("link");e.href="https://fonts.googleapis.com/css2?family=Lato:wght@300;400;700&display=swap",e.type="text/css",e.rel="stylesheet",document.head.appendChild(e)})()</script></body></html>